<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>汇编语言期末复习 | mengnankkのblog</title><meta name="keywords" content="汇编语言"><meta name="author" content="mengnankkzhou"><meta name="copyright" content="mengnankkzhou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#18171d"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="汇编语言期末复习"><meta name="application-name" content="汇编语言期末复习"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#18171d"><meta property="og:type" content="article"><meta property="og:title" content="汇编语言期末复习"><meta property="og:url" content="https://blog.tokenlen.top/2025/06/21/lastteam/huibian/index.html"><meta property="og:site_name" content="mengnankkのblog"><meta property="og:description" content="题目解答 一 基础知识 1.若CPU的寻址能力是 2^n字节（Byte），那么地址总线宽度为 n 位。 8KB &amp;#x3D; 2^13byte 所以为13 2.1KB存储器的地址范围， 1KB &amp;#x3D; 1024个存储单元，地址从0开始编号 所以为0-1023 3.1KB存储器可存储的数据量，1KB &amp;#x3D; 2^13b"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202408081510095.jpg?_r_=544b11b3-7795-ab22-4ab3-7e74ca4c9c88"><meta property="article:author" content="mengnankkzhou"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202408081510095.jpg?_r_=544b11b3-7795-ab22-4ab3-7e74ca4c9c88"><meta name="description" content="题目解答 一 基础知识 1.若CPU的寻址能力是 2^n字节（Byte），那么地址总线宽度为 n 位。 8KB &amp;#x3D; 2^13byte 所以为13 2.1KB存储器的地址范围， 1KB &amp;#x3D; 1024个存储单元，地址从0开始编号 所以为0-1023 3.1KB存储器可存储的数据量，1KB &amp;#x3D; 2^13b"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://blog.tokenlen.top/2025/06/21/lastteam/huibian/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走啊，那种事情不要啊","backTitle":"♪(^∇^*)欢迎回家！！！！"},
  LA51: undefined,
  greetingBox: {"enable":"ture","default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: 'https://comment.tokenlen.top/',
  commentBarrageConfig:{"enable":true,"maxBarrage":1,"barrageTime":4000,"accessToken":"\tbd9428de12b54b96b2f1b4e69aeee81f","mailMd5":"F37442226DA71492"},
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    simplehomepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: mengnankkzhou","link":"链接: ","source":"来源: mengnankkのblog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'mengnankkのblog',
  title: '汇编语言期末复习',
  postAI: '',
  pageFillDescription: '题目解答, 一 基础知识, 二 寄存器, 九 跳跃, 三, 十, , 十一, 知识框架, 简答题, 1.对汇编语言的理解, 2.寄存器体系及其使用, 3.程序加载与段：偏移机制, 4.条件与无条件跳转, 5.基本结构, 6.DOS 如何加载 EXE 可执行程序？, 填空题, 1.栈操作细节push/ pop 对 SP、SS 的影响, 2.转移指令格式机器码长度、操作数类型, 3.子程序调用call/ ret 的入栈、出栈顺序, 4.标志寄存器ZF、SF、CF、OF 置位条件哪些算术/逻辑指令影响哪些标志, 程序分析题, 编程题目题目解答一基础知识若的寻址能力是字节那么地址总线宽度为位所以为存储器的地址范围个存储单元地址从开始编号所以为存储器可存储的数据量可存储可存储常见的转换传输字节所需次数若数据总线宽度为位则每次传输字节所需次数总字节数每次字节数位一次次位一次次位位位位位二寄存器补充完整是赋值指令不影响标志位是加法指令结果存入目标寄存器包括高位和低位指令演示指令执行后寄存器值说明修改高位修改低位直接赋值截断为未变仍为截断为用最多条指令计算每次就是乘以相当于左移位段地址时的寻址范围实地址段地址偏移地址段地址实起始地址最大偏移最大地址所以寻址的范围就是要访问实地址求段地址的范围实地址偏移设偏移最小设偏移最大最大最小段地址最大段地址用自己减自己结果赋给这样的结果为清零首选跳转到中存储的地址修改次数次修改时机指令加载指令加载指令加载执行最后的值九跳跃段内转移指令段内跳转偏移地址来自表示从内存地址和处读取字节构成目标偏移地址不变要跳到那么所以只需确保段的第二三字节是定义字节确保和都是段间跳跃是段间跳转执行时被解释为偏移地址被解释为段地址当前指令起始处或当前跳转目标就是相当于相当于指令查看内存内容分析跳转结果段间跳转目标是开始的字节低地址两字节高地址两字节跳转后使用查找第一个值为的字节将内存内容加载到组成如果跳转即偏移位置每次加载一个字节到然后组成位如果说明找到了值为的字节用检查找到后跳转到最终将偏移地址保存在中使用查找第一个为的如果得到继续查下一个字节多加了一次回退指令减少并跳转直到用加载内存若为则变成执行后跳出最终偏移值存在中但已多加一因此修正偏移三内存查看与汇编执行分析汇编指令说明不影响注意是低地址在前从地址开始读两个字节截断为清零低字节清零截断为程序执行追踪汇编流程图指令逆序拷贝程序使用栈将的个字字节将中的个字逆序拷贝到中数据段指向就是原始地址栈段指向就是目的地址栈顶为栈是从高地址向低地址存储后栈内容为注意等都是段内偏移地址出栈写入将中的个字逆序拷贝到中数据段寄存器指向当前程序使用的数据段基地址用于访问数据栈段寄存器指向当前栈所在的段基地址栈指针寄存器指示当前栈顶栈顶指针的偏移地址结合寄存器确定栈顶的线性地址说明数据段指向段地址即内存中以为起始的地址区域是栈顶偏移量相对于指定的段地址十利用实现远跳转目标段地址压栈目标段目标偏移地址压栈目标偏移弹出两个字从当前程序跳转到开始执行段内过程的本质将下一条指令地址压栈跳转后这句不会先执行从栈中弹出将返回地址压入栈弹出该地址机械码调用执行后的值为多少返回地址段寄存器间接调用相当于先把返回地址压栈到执行间接调用已知跳转到后执行三次栈段定义了个空间共字节从到初始化即栈顶从偏移开始查找处的内容即偏移地址设为因为是段内调用所以执行会将返回地址下一条指令地址压入栈跳转到的位置接着执行初始当前代码段相当于执行前压栈和即跳转到当前段偏移地址即段地址跳转到指令将返回地址和入栈进入标签后十一写出每条指令执行后标志位的值指令知识框架简答题对汇编语言的理解概念面向机器的低级语言使用符号化指令助记符优点执行效率高直接操作寄存器内存控制力强可精细操控硬件有助于理解计算机体系结构缺点语法繁琐代码量大可读性差维护难度高不可移植依赖具体架构寄存器体系及其使用标志位含义触发条件示例零标志运算结果为时置位符号标志运算结果最高位为时置位进位借位标志无符号加法产生进位或减法借位时置溢出标志有符号运算超出范围时置奇偶标志低位偶数个结果低位中的个数为偶数时置程序加载与段偏移机制段地址指内存中一个段的起始地址由段寄存器如给出偏移地址表示该段内的相对地址位置通常由等寄存器提供物理地址计算公式编辑物理地址段地址偏移地址段地址偏移地址条件与无条件跳转指令格式近跳转远跳转间接跳转跳转目标立即数寄存器内存指令段内跳转只修改不变段间跳转同时修改和指令实现子程序调用会将返回地址入栈然后跳转到目标地址近调用段内只入栈远调用段间先入栈再入栈调用完成后跳转到子程序开始位置执行指令弹出栈顶内容并跳回适用于近调用弹出两个字节恢复然后再弹出两个字节恢复实现段间返回基本结构汇编程序的基本结构由代码段存放指令数据段存放数据栈段管理栈空间组成程序入口标签如指明执行起点标记程序结束段寄存器的作用及设置指向代码段指向数据段指向栈段设置时先用段地址再用段寄存器装载段地址汇编程序的执行流程从指向位置开始执行指令执行后自动加指令长度跳转指令可修改和以改变执行流内存访问方式内存地址由段寄存器和偏移地址组合计算数据访问用代码访问用栈操作用汇编指令的基本作用指令实现数据在寄存器和内存间传送段寄存器初始化通过先装载到通用寄存器再转移如何加载可执行程序从内存中找到一块空闲区域段地址为偏移为在开始的字节内创建程序段前缀用于和程序通信程序本体加载到处即从字节后开始执行和程序在物理地址上连续但逻辑段地址不同最后设置准备开始执行程序填空题栈操作细节对的影响转移指令格式机器码长度操作数类型子程序调用的入栈出栈顺序标志寄存器置位条件哪些算术逻辑指令影响哪些标志程序分析题循环计数寄存器变化的执行流程取指检查跳转执行次数与初始的关系子程序间接跳转跟踪全流程入栈更新返回地址弹栈复制程序源数据段起目标数据段起拷贝个字节或字符从取数据即写入即循环次直到将开始的个字节拷贝到开始的地址表示从指向的内存地址中读取一个字节到间接寻址表示将的值存入指向的内存地址循环控制语句用于固定次数循环和是设置数据段和额外段访问内存前必须设置段寄存器编程题目基于的计数求和程序第章段偏移数据搬运栈管理第章如从数据段读字符串压栈子程序处理弹栈即访问从内存处读两个字节到把写入代码段位置的数据数据从字节个字依次读取覆盖段中的初始数据区原始数据如将被替换为内存中读取的新数据效果程序数据区被外部数据动态更新共字节空间用作栈区设定栈在代码段中栈顶指向代码段偏移从即开始压栈从栈中弹出数据写入覆盖初始数据使用完成数据搬运相当于栈使用方式达到数据传送效果栈顶设为即十进制从处开始使用栈栈段的起始位置由指定即栈放在当前代码段末尾的空区域大小写转换第章利用与区别不同寻址方式立即直接寄存器间接将段中每个字符串的前个字母转换为大写字母第行跳过第行跳过第行跳过第行跳过子程序将开始的个字母改为大写每条字符串偏移分别是跳过编号和点空格子程序处理从开始的个字符利用了和判断是否是小写字母字符串操作指令综合第章实现功能编写程序将段中个年份每个字节字符串个年收入每个字节个雇员数每个字节分别搬运进段中每行字节并计算人均收入单位千美元个结构每个字节清零初始化数据段表格段用于索引年份结构偏移用于访问和共年数据拷贝年份字节拷贝收入字节拷贝雇员数字节计算人均收入总收入雇员数避免除商人均收入余数写入人均收入下一年年份字符串偏移下一结构偏移的索引前进退出程序',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-06-26 15:41:53',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/rss2.xml" title="mengnankkのblog" type="application/rss+xml">
</head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202407230955363.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://blog.tokenlen.top/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://img.mengnankk.top:9001/" title="图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="图床"/><span class="back-menu-item-text">图床</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="http://img.mengnankk.top:9001/" title="mengnankk图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/13/64d8c2653332e.ico" alt="mengnankk图床"/><span class="back-menu-item-text">mengnankk图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">mengnankkのblog</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 生活</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Message/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 其他</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://home.tokenlen.top/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> home</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://status.mengnankk.asia/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 站点检测</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://home.tokenlen.top/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 心里话</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://imgbed.mengnankk.asia/202407021650088.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imgbed.mengnankk.asia/202407021650088.jpg"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/BF/" style="font-size: 1.05rem;">BF<sup>1</sup></a><a href="/tags/BigData/" style="font-size: 1.05rem;">BigData<sup>1</sup></a><a href="/tags/C/" style="font-size: 1.05rem;">C<sup>4</sup></a><a href="/tags/CE/" style="font-size: 1.05rem;">CE<sup>1</sup></a><a href="/tags/CSRF/" style="font-size: 1.05rem;">CSRF<sup>1</sup></a><a href="/tags/English/" style="font-size: 1.05rem;">English<sup>9</sup></a><a href="/tags/FI/" style="font-size: 1.05rem;">FI<sup>1</sup></a><a href="/tags/Hadoop/" style="font-size: 1.05rem;">Hadoop<sup>1</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>12</sup></a><a href="/tags/Nginx/" style="font-size: 1.05rem;">Nginx<sup>1</sup></a><a href="/tags/XSS/" style="font-size: 1.05rem;">XSS<sup>1</sup></a><a href="/tags/css/" style="font-size: 1.05rem;">css<sup>2</sup></a><a href="/tags/docker/" style="font-size: 1.05rem;">docker<sup>1</sup></a><a href="/tags/football/" style="font-size: 1.05rem;">football<sup>1</sup></a><a href="/tags/git/" style="font-size: 1.05rem;">git<sup>1</sup></a><a href="/tags/html/" style="font-size: 1.05rem;">html<sup>1</sup></a><a href="/tags/java/" style="font-size: 1.05rem;">java<sup>50</sup></a><a href="/tags/juc/" style="font-size: 1.05rem;">juc<sup>2</sup></a><a href="/tags/jvm/" style="font-size: 1.05rem;">jvm<sup>2</sup></a><a href="/tags/leetcode/" style="font-size: 1.05rem;">leetcode<sup>8</sup></a><a href="/tags/markdown/" style="font-size: 1.05rem;">markdown<sup>1</sup></a><a href="/tags/mysql/" style="font-size: 1.05rem;">mysql<sup>16</sup></a><a href="/tags/net/" style="font-size: 1.05rem;">net<sup>6</sup></a><a href="/tags/php/" style="font-size: 1.05rem;">php<sup>5</sup></a><a href="/tags/pip/" style="font-size: 1.05rem;">pip<sup>1</sup></a><a href="/tags/python/" style="font-size: 1.05rem;">python<sup>3</sup></a><a href="/tags/redis/" style="font-size: 1.05rem;">redis<sup>3</sup></a><a href="/tags/rocketmq/" style="font-size: 1.05rem;">rocketmq<sup>2</sup></a><a href="/tags/shell/" style="font-size: 1.05rem;">shell<sup>4</sup></a><a href="/tags/spring/" style="font-size: 1.05rem;">spring<sup>2</sup></a><a href="/tags/spring-boot/" style="font-size: 1.05rem;">spring boot<sup>12</sup></a><a href="/tags/sql/" style="font-size: 1.05rem;">sql<sup>5</sup></a><a href="/tags/web/" style="font-size: 1.05rem;">web<sup>3</sup></a><a href="/tags/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/" style="font-size: 1.05rem;">数字逻辑<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86/" style="font-size: 1.05rem;">数据库原理<sup>3</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.05rem;">数据结构<sup>18</sup></a><a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 1.05rem;">正则表达式<sup>2</sup></a><a href="/tags/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/" style="font-size: 1.05rem;">汇编语言<sup>1</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.05rem;">算法<sup>9</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.05rem;">面试<sup>15</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">七月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">六月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">18</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">22</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/" itemprop="url">期末考试</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>汇编语言</span></a></span></div></div><h1 class="post-title" itemprop="name headline">汇编语言期末复习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-06-20T16:00:00.000Z" title="发表于 2025-06-21 00:00:00">2025-06-21</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-06-26T07:41:53.118Z" title="更新于 2025-06-26 15:41:53">2025-06-26</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">5.1k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>22分钟</span></span><span class="post-meta-separator"></span><span id="" data-flag-title="汇编语言期末复习"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="twikoo_visitors" title="访问量"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为济南"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>济南</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202408081510095.jpg?_r_=544b11b3-7795-ab22-4ab3-7e74ca4c9c88"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://blog.tokenlen.top/2025/06/21/lastteam/huibian/"><header><a class="post-meta-categories" href="/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/" itemprop="url">期末考试</a><a href="/tags/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/" tabindex="-1" itemprop="url">汇编语言</a><h1 id="CrawlerTitle" itemprop="name headline">汇编语言期末复习</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">mengnankkzhou</span><time itemprop="dateCreated datePublished" datetime="2025-06-20T16:00:00.000Z" title="发表于 2025-06-21 00:00:00">2025-06-21</time><time itemprop="dateCreated datePublished" datetime="2025-06-26T07:41:53.118Z" title="更新于 2025-06-26 15:41:53">2025-06-26</time></header><h1>题目解答</h1>
<h2 id="一-基础知识">一 基础知识</h2>
<p>1.若CPU的寻址能力是 2^n字节（Byte），那么地址总线宽度为 n 位。</p>
<p>8KB = 2^13byte</p>
<p>所以为13</p>
<p>2.1KB存储器的地址范围， 1KB = 1024个存储单元，地址从0开始编号</p>
<p>所以为0-1023</p>
<p>3.1KB存储器可存储的数据量，1KB = 2^13bit</p>
<p>可存储 <strong>2^13</strong> bit</p>
<p>可存储 <strong>2^10</strong> Byte</p>
<p>4.常见的转换：：：</p>
<p>1KB = 2^10Byte</p>
<p>1MB = 2^20Byte</p>
<p>1GB = 2^30Byte</p>
<p>6.传输1024字节所需次数</p>
<p>若数据总线宽度为 n 位，则每次传输 n/8 字节</p>
<p>所需次数 = 总字节数 ÷ 每次字节数</p>
<p>8086（16位）→ 一次2B → =512 次</p>
<p>80386（32位）→ 一次4B → =256 次</p>
<p>8080：8位 → 1B</p>
<p>8088：8位 → 1B</p>
<p>8086：16位 → 2B</p>
<p>80286：16位 → 2B</p>
<p>80386：32位 → 4B</p>
<h2 id="二-寄存器">二 寄存器</h2>
<p>1.补充完整：</p>
<p><code>mov</code> 是赋值指令，不影响标志位。</p>
<p><code>add</code> 是加法指令，结果存入目标寄存器。</p>
<p><code>ax</code> 包括 <code>ah</code>（高8位）和 <code>al</code>（低8位）。</p>
<p>指令演示：</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>执行后寄存器值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mov ax,62627</code></td>
<td>AX = F4A3H</td>
<td>62627₁ = F4A3₁₆</td>
</tr>
<tr>
<td><code>mov ah,31H</code></td>
<td>AX = 31A3H</td>
<td>修改高 8 位</td>
</tr>
<tr>
<td><code>mov al,23H</code></td>
<td>AX = 3123H</td>
<td>修改低 8 位</td>
</tr>
<tr>
<td><code>add ax,ax</code></td>
<td>AX = 6246H</td>
<td>3123H + 3123H</td>
</tr>
<tr>
<td><code>mov bx,826CH</code></td>
<td>BX = 826CH</td>
<td>直接赋值</td>
</tr>
<tr>
<td><code>mov cx,ax</code></td>
<td>CX = 6246H</td>
<td>AX → CX</td>
</tr>
<tr>
<td><code>mov ax,bx</code></td>
<td>AX = 826CH</td>
<td>BX → AX</td>
</tr>
<tr>
<td><code>add ax,bx</code></td>
<td>AX = 04D8H</td>
<td>826CH + 826CH = 104D8H → 截断为 04D8H</td>
</tr>
<tr>
<td><code>mov al,bh</code></td>
<td>AX = 0482H</td>
<td>BH → AL（AL = 82H），AH 未变（仍为 04H）</td>
</tr>
<tr>
<td><code>mov ah,bl</code></td>
<td>AX = 6C82H</td>
<td>BL → AH（AH = 6CH）</td>
</tr>
<tr>
<td><code>add ah,ah</code></td>
<td>AX = D882H</td>
<td>AH = 6C + 6C = D8H</td>
</tr>
<tr>
<td><code>add al,6</code></td>
<td>AX = D888H</td>
<td>AL = 82H + 06H = 88H</td>
</tr>
<tr>
<td><code>add al,al</code></td>
<td>AX = D810H</td>
<td>AL = 88H + 88H = 110H → 截断为 10H</td>
</tr>
<tr>
<td><code>mov ax,cx</code></td>
<td>AX = 6246H</td>
<td>CX → AX</td>
</tr>
</tbody>
</table>
<p>2.用最多4条指令计算 2⁴</p>
<p>每次 <code>add ax, ax</code> 就是乘以 2，相当于左移 1 位</p>
<p>mov ax,2<br>
add ax,ax   ; 2 × 2 = 4<br>
add ax,ax   ; 4 × 2 = 8<br>
add ax,ax   ; 8 × 2 = 16</p>
<p>3.段地址 0001H 时的寻址范围</p>
<p>实地址 = 段地址 × 16 + 偏移地址</p>
<p>段地址 0001H → 00010H 实起始地址</p>
<p>最大偏移 = <strong>FFFFH</strong> → 最大地址 = 00010H + FFFFH = 1000FH</p>
<p>所以寻址的范围就是00010H-1000FH</p>
<p>4.要访问实地址 20000H，求段地址 SA 的范围</p>
<p>实地址 = SA × 10H + 偏移</p>
<p>设偏移 = 0 → SA 最小 = 20000H ÷ 10H = 2000H</p>
<p>设偏移最大 = FFFFH → SA 最大 = (20000H - FFFFH) ÷ 10H ≈ 1001H</p>
<p>最小段地址：<strong>1001H</strong></p>
<p>最大段地址：<strong>2000H</strong></p>
<ol start="5">
<li></li>
</ol>
<p>sub ax, ax  用 <code>AX</code> 自己减自己，结果赋给 <code>AX</code> 这样的结果为0</p>
<p>清零首选 <code>xor ax, ax</code></p>
<p>jmp ax，跳转到 <code>AX</code> 中存储的地址</p>
<p><strong>IP 修改次数：4 次</strong></p>
<p><strong>修改时机：</strong></p>
<ol>
<li><code>mov</code> 指令加载 → IP++</li>
<li><code>sub</code> 指令加载 → IP++</li>
<li><code>jmp</code> 指令加载 → IP++</li>
<li><code>jmp</code> 执行 → IP ← AX</li>
</ol>
<p><strong>最后 IP 的值：</strong> <strong>0000H</strong></p>
<h2 id="九-跳跃">九 跳跃</h2>
<p>1.段内转移指令 <code>jmp word ptr [bx+1]</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">data segment</span><br><span class="line">	?</span><br><span class="line">data ends</span><br><span class="line">code segment</span><br><span class="line">start:</span><br><span class="line">	mov ax,data</span><br><span class="line">	mov ds,ax</span><br><span class="line">	mov bx,<span class="number">0</span></span><br><span class="line">	jmp word ptr [bx+<span class="number">1</span>]  ; 段内跳转，偏移地址来自ds:[bx+<span class="number">1</span>]</span><br><span class="line">code ends</span><br><span class="line">end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>jmp word ptr [bx+1]</code> 表示从内存地址 <code>ds:[1]</code> 和 <code>ds:[2]</code> 处读取2字节构成目标偏移地址，CS不变。</p>
<p>要跳到 <code>IP = 0000H</code>，那么 <code>ds:[1~2] = 0000H</code>。</p>
<p>所以只需确保 data 段的第二、三字节是 0。</p>
<p><strong>db 4 dup (0)  ; 定义4字节，确保ds:[1]和ds:[2]都是0</strong></p>
<p>2.段间跳跃，jmp dword ptr ds:[0]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">data segment</span><br><span class="line">	dd 12345678H</span><br><span class="line">data ends</span><br><span class="line"></span><br><span class="line">code segment</span><br><span class="line">start:</span><br><span class="line">	mov ax,data</span><br><span class="line">	mov ds,ax</span><br><span class="line">	mov bx,<span class="number">0</span></span><br><span class="line">	mov [bx],____</span><br><span class="line">	mov [bx+<span class="number">2</span>],____</span><br><span class="line">	jmp dword ptr ds:[<span class="number">0</span>]</span><br><span class="line">	mov ax,4c00h</span><br><span class="line">	<span class="type">int</span> 21h</span><br><span class="line">code ends</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>jmp dword ptr ds:[0]</code> 是<strong>段间跳转</strong>，执行时：</p>
<ul>
<li><code>ds:[0]~[1]</code> → 被解释为 IP（偏移地址）</li>
<li><code>ds:[2]~[3]</code> → 被解释为 CS（段地址）</li>
</ul>
<p>当前指令起始处 IP = 0000H（或 <code>offset start</code>）</p>
<p>当前 CS = cs，跳转目标就是 <code>CS:0</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mov [bx], bx    ; 相当于 mov [0], 0</span><br><span class="line">mov [bx+2], cs  ; 相当于 mov [2], cs</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>3.指令 <code>jmp dword ptr es:[1000H]</code>，查看内存内容分析跳转结果</p>
<p>2000:1000 BE 00 06 00 00 00 …</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mov ax,2000H</span><br><span class="line">mov es,ax</span><br><span class="line">jmp dword ptr es:[1000H]</span><br></pre></td></tr></table></figure>
<p>段间跳转，目标是 <code>es:[1000H]</code> 开始的4字节：</p>
<ul>
<li><code>低地址两字节（BE 00）</code> → IP = 00BEH</li>
<li><code>高地址两字节（06 00）</code> → CS = 0006H</li>
</ul>
<p>跳转后：CS = 0006H, IP = 00BEH</p>
<p>4.使用 <code>jcxz</code> 查找第一个值为0的字节</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">code segment</span><br><span class="line">start:</span><br><span class="line">	mov ax,2000H</span><br><span class="line">	mov ds,ax</span><br><span class="line">	mov bx,0</span><br><span class="line">s:	mov cl,ds:[bx]   ; 将内存内容加载到CL</span><br><span class="line">	mov ch,0         ; 组成CX = 0000 ~ 00FF</span><br><span class="line">	jcxz ok          ; 如果 CX = 0, 跳转</span><br><span class="line">	add bx,1</span><br><span class="line">	jmp short s</span><br><span class="line">ok:	mov dx,bx        ; BX 即偏移位置</span><br><span class="line">	mov ax,4c00h</span><br><span class="line">	int 21h</span><br><span class="line">code ends</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>每次加载一个字节到 CL，然后组成 16 位 CX（CH=0）</p>
<p>如果 <code>CX=0</code>，说明找到了值为0的字节</p>
<p>用 <code>jcxz</code> 检查，找到后跳转到 <code>ok</code></p>
<p>最终将偏移地址保存在 DX 中</p>
<p>5.使用 <code>loop</code> 查找第一个为0的 byte</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">code segment</span><br><span class="line">start:</span><br><span class="line">	mov ax,2000H</span><br><span class="line">	mov ds,ax</span><br><span class="line">	mov bx,0</span><br><span class="line">s:	mov cl,[bx]</span><br><span class="line">	mov ch,0</span><br><span class="line">	add cx,1        ; 如果 cx = 0，add cx,1 得到 1，loop 继续</span><br><span class="line">	inc bx          ; 查下一个字节</span><br><span class="line">	loop s </span><br><span class="line">ok:	dec bx         ; 多加了一次 bx，回退</span><br><span class="line">	mov dx,bx</span><br><span class="line">	mov ax,4c00h</span><br><span class="line">	int 21h</span><br><span class="line">code ends</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>loop指令减少 CX 并跳转，直到 CX=0</li>
<li>用 <code>cl=[bx]</code> 加载内存，若为0，则 <code>cx=0</code>，<code>add cx,1</code> 变成 1，<code>loop</code>执行后 cx=0，跳出</li>
<li>最终偏移值存在 <code>bx</code> 中，但已多加一，因此 <code>dec bx</code> 修正偏移</li>
</ul>
<h2 id="三">三</h2>
<p>1.内存查看与汇编执行分析(x)</p>
<p>0000:0000 70 80 F0 30 EF 60 30 E2 00 80 80 12 66 20 22 60<br>
0000:0010 62 26 E6 D6 CC 2E 3C 3B AB BA 00 00 26 06 66 88</p>
<table>
<thead>
<tr>
<th>汇编指令</th>
<th>AX</th>
<th>BX</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mov ax,1</code></td>
<td>0001</td>
<td>0000</td>
<td>AX ← 1</td>
</tr>
<tr>
<td><code>mov ds,ax</code></td>
<td>0001</td>
<td>0000</td>
<td>DS ← AX，不影响 AX/BX</td>
</tr>
<tr>
<td><code>mov ax,[0000]</code></td>
<td>2662</td>
<td>0000</td>
<td>AX ← DS:0000 = 0x8026（注意是低地址在前）</td>
</tr>
<tr>
<td><code>mov bx,[0001]</code></td>
<td>2662</td>
<td>E626</td>
<td>BX ← DS:0001 = 0x26E6（从地址0001开始读两个字节）</td>
</tr>
<tr>
<td><code>mov ax,bx</code></td>
<td>E626</td>
<td>E626</td>
<td>AX ← BX</td>
</tr>
<tr>
<td><code>mov ax,[0000]</code></td>
<td>2662</td>
<td>E626</td>
<td>AX ← DS:0000</td>
</tr>
<tr>
<td><code>mov bx,[0002]</code></td>
<td>2662</td>
<td>D6E6</td>
<td>BX ← DS:0002 = 0xE6D6</td>
</tr>
<tr>
<td><code>add ax,bx</code></td>
<td>FD48</td>
<td>D6E6</td>
<td>AX = 2662 + D6E6 = FD48</td>
</tr>
<tr>
<td><code>add ax,[0004]</code></td>
<td>2C14</td>
<td>D6E6</td>
<td>AX += DS:0004 = 0x602C → FD48+602C=15D74 → 截断为2C14</td>
</tr>
<tr>
<td><code>mov ax,0</code></td>
<td>0000</td>
<td>D6E6</td>
<td>清零 AX</td>
</tr>
<tr>
<td><code>mov al,[0002]</code></td>
<td>00E6</td>
<td>D6E6</td>
<td>AL ← E6（AX低字节），AH=0 → AX=00E6</td>
</tr>
<tr>
<td><code>mov bx,0</code></td>
<td>00E6</td>
<td>0000</td>
<td>BX 清零</td>
</tr>
<tr>
<td><code>mov bl,[000C]</code></td>
<td>00E6</td>
<td>0026</td>
<td>BL ← DS:000C = 26H → BX=0026</td>
</tr>
<tr>
<td><code>add al,bl</code></td>
<td>000C</td>
<td>0026</td>
<td>AL=E6+26=10C → 截断为 0C，AX=000C</td>
</tr>
</tbody>
</table>
<p>2.程序执行追踪 + 汇编流程图(x)</p>
<p>mov ax,6622H<br>
jmp 0ff0:0100H<br>
mov ax,2000H<br>
mov ds,ax<br>
mov ax,[0008]<br>
mov ax,[0002]</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>AX</th>
<th>BX</th>
<th>CS</th>
<th>IP</th>
<th>DS</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mov ax,6622H</code></td>
<td>6622</td>
<td>0000</td>
<td>2000</td>
<td>0003</td>
<td>1000</td>
</tr>
<tr>
<td><code>jmp 0ff0:0100H</code></td>
<td>6622</td>
<td>0000</td>
<td>0FF0</td>
<td>0100</td>
<td>1000</td>
</tr>
<tr>
<td><code>mov ax,2000H</code></td>
<td>2000</td>
<td>0000</td>
<td>0FF0</td>
<td>0103</td>
<td>1000</td>
</tr>
<tr>
<td><code>mov ds,ax</code></td>
<td>2000</td>
<td>0000</td>
<td>0FF0</td>
<td>0105</td>
<td>2000</td>
</tr>
<tr>
<td><code>mov ax,[0008]</code></td>
<td>C189</td>
<td>0000</td>
<td>0FF0</td>
<td>0108</td>
<td>2000</td>
</tr>
<tr>
<td><code>mov ax,[0002]</code></td>
<td>EA66</td>
<td>0000</td>
<td>0FF0</td>
<td>010B</td>
<td>2000</td>
</tr>
</tbody>
</table>
<p>3.逆序拷贝程序（使用栈）</p>
<p>将 <code>10000H~1000FH</code> 的 8 个字（<strong>16 字节</strong>）将 10000H~1000FH 中的 8 个字逆序拷贝到 20000H~2000FH 中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mov ax,1000H</span><br><span class="line">mov ds,ax           ; 数据段指向 10000H，就是原始地址</span><br><span class="line"></span><br><span class="line">mov ax,2000H</span><br><span class="line">mov ss,ax           ; 栈段指向 20000H,就是目的地址</span><br><span class="line">mov sp,0010H        ; 栈顶为 20000:0010</span><br><span class="line"></span><br><span class="line">push [0]</span><br><span class="line">push [2]</span><br><span class="line">push [4]</span><br><span class="line">push [6]</span><br><span class="line">push [8]</span><br><span class="line">push [0AH]</span><br><span class="line">push [0CH]</span><br><span class="line">push [0EH]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>栈是从高地址向低地址存储，push 后栈内容为 <code>[0EH], [0CH], ..., [0]</code></p>
<p>注意 <code>[0]</code> 等都是 <code>ds</code> 段内偏移地址</p>
<p>出栈写入（pop）将 10000H~1000FH 中的 8 个字逆序拷贝到 20000H~2000FH 中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mov ax,2000H</span><br><span class="line">mov ds,ax</span><br><span class="line">mov ax,1000H</span><br><span class="line">mov ss,ax</span><br><span class="line">mov sp,0000H</span><br><span class="line">pop [E]</span><br><span class="line">pop [C]</span><br><span class="line">pop [A]</span><br><span class="line">pop [8]</span><br><span class="line">pop [6]</span><br><span class="line">pop [4]</span><br><span class="line">pop [2]</span><br><span class="line">pop [0]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>DS（Data Segment，数据段寄存器）</strong><br>
指向当前程序使用的数据段基地址，用于访问数据。</p>
<p><strong>SS（Stack Segment，栈段寄存器）</strong><br>
指向当前栈所在的段基地址。</p>
<p><strong>SP（Stack Pointer，栈指针寄存器）</strong><br>
指示当前栈顶（栈顶指针）的偏移地址，结合 SS 寄存器，确定栈顶的线性地址。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mov ax,1000H</span><br><span class="line">mov ds,ax</span><br></pre></td></tr></table></figure>
<p>说明数据段 DS 指向段地址 <code>1000H</code>，即内存中以 <code>10000H</code> 为起始的地址区域。</p>
<p><code>SP</code> 是栈顶偏移量，相对于 SS 指定的段地址。</p>
<h2 id="十">十</h2>
<p>1.利用 <code>retf</code> 实现远跳转</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">stack segment</span><br><span class="line">    db <span class="number">16</span> dup(<span class="number">0</span>)</span><br><span class="line">stack ends</span><br><span class="line"></span><br><span class="line">code segment</span><br><span class="line">start:</span><br><span class="line">    mov ax,stack</span><br><span class="line">    mov ss,ax</span><br><span class="line">    mov sp,<span class="number">16</span></span><br><span class="line">    mov ax,1000h</span><br><span class="line">    push ax</span><br><span class="line">    mov ax,<span class="number">0</span></span><br><span class="line">    push ax</span><br><span class="line">    retf</span><br><span class="line">code ends</span><br><span class="line">end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mov ax,1000h   ; 目标段地址</span><br><span class="line">push ax        ; 压栈：目标段</span><br><span class="line">mov ax,<span class="number">0</span>       ; 目标偏移地址</span><br><span class="line">push ax        ; 压栈：目标偏移</span><br><span class="line">retf           ; 弹出两个字：IP ← [SP]，CS ← [SP+<span class="number">2</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>从当前程序跳转到 1000:0000 开始执行。</p>
<p>2.<code>call 段内过程</code> 的本质</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1000</span>:<span class="number">0000</span> b8 <span class="number">00</span> <span class="number">00</span>        mov ax,<span class="number">0</span></span><br><span class="line"><span class="number">1000</span>:<span class="number">0003</span> e8 <span class="number">01</span> <span class="number">00</span>        call s</span><br><span class="line"><span class="number">1000</span>:<span class="number">0006</span> <span class="number">40</span>              inc ax</span><br><span class="line"><span class="number">1000</span>:<span class="number">0007</span> <span class="number">58</span>          s: pop ax</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mov ax,<span class="number">0</span></span><br><span class="line">call s       ; 将下一条指令地址（<span class="number">1000</span>:<span class="number">06</span>）压栈</span><br><span class="line">inc ax       ; IP 跳转后这句不会先执行</span><br><span class="line">s: pop ax    ; 从栈中弹出 <span class="number">1000</span>:<span class="number">06</span>，ax=<span class="number">6</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>call s</code> 将<strong>返回地址 1000:06</strong> 压入栈</p>
<p>pop ax<code> 弹出该地址，</code>ax=6</p>
<p>3.机械码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1000</span>:<span class="number">0000</span> b8 <span class="number">00</span> <span class="number">00</span>        mov ax,<span class="number">0</span></span><br><span class="line"><span class="number">1000</span>:<span class="number">0003</span> 9a 09 <span class="number">00</span> <span class="number">00</span> <span class="number">10</span>  call far ptr s  ; 调用 <span class="number">1000</span>:0009</span><br><span class="line"><span class="number">1000</span>:0008 <span class="number">40</span>              inc ax</span><br><span class="line"><span class="number">1000</span>:0009 <span class="number">58</span>          s: pop ax</span><br><span class="line">           <span class="number">05</span> <span class="number">00</span>           add ax, ax</span><br><span class="line">           <span class="number">1f</span>              pop bx</span><br><span class="line">           <span class="number">03</span> d8           add ax, bx</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>执行后，<strong>ax的值为多少？</strong></p>
<p><code>pop ax</code> → ax = 0008h（返回地址）</p>
<p><code>add ax, ax</code> → ax = 0x10</p>
<p><code>pop bx</code> → bx = 1000h（段）</p>
<p><code>add ax, bx</code> → ax = 0x10 + 0x1000 = 0x1010</p>
<p>4.call ax（寄存器间接调用）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1000:0000 b8 06 00       mov ax,6</span><br><span class="line">1000:0003 ff d0          call ax</span><br><span class="line">1000:0005 40             inc ax</span><br><span class="line">1000:0006 58             pop ax</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>call ax</code> 相当于 <code>call 0006h</code>，先把返回地址 1000:05 压栈</p>
<p>到 <code>1000:06</code>，执行 <code>pop ax</code> → ax = 0005</p>
<p>5.间接调用 call word ptr ds:[0eh]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">call word ptr ds:[0eh]</span><br><span class="line">inc ax</span><br><span class="line">inc ax</span><br><span class="line">inc ax</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>已知 <code>[ds:0eh] = 0011h</code>，<strong>call跳转到0011h后执行 inc ax 三次</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">stack segment</span><br><span class="line">    dw 8 dup (0)</span><br><span class="line">stack ends</span><br><span class="line"></span><br><span class="line">code segment</span><br><span class="line">start:</span><br><span class="line">    mov ax,stack</span><br><span class="line">    mov ss,ax</span><br><span class="line">    mov sp,16</span><br><span class="line">    mov ds,ax</span><br><span class="line">    mov ax,0</span><br><span class="line">    call word ptr ds:[0eh]</span><br><span class="line">    inc ax</span><br><span class="line">    inc ax</span><br><span class="line">    inc ax</span><br><span class="line">    mov ax,4c00h</span><br><span class="line">    int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>栈段 <code>stack</code> 定义了 8 个 word 空间，共 16 字节（从 0 到 15）。</li>
<li>初始化：<code>ss = stack</code>, <code>sp = 16</code>，即栈顶从偏移 <code>0010h</code> 开始。</li>
<li><code>ds = ax = stack</code></li>
<li><code>call word ptr ds:[0eh]</code><br>
查找 <code>ds:0eh</code> 处的内容，即偏移地址（设为 0011h）</li>
</ul>
<blockquote>
<p>因为 call 是段内调用，所以：</p>
</blockquote>
<ul>
<li>
<p><strong>执行 <code>call 0011h</code>：</strong></p>
<ul>
<li><code>call</code> 会将 <strong>返回地址 (call 下一条指令地址) = 0011h</strong> 压入栈</li>
<li>IP ← 0011h</li>
</ul>
</li>
<li>
<p>IP 跳转到 offset=0011h 的位置，接着执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inc ax</span><br><span class="line">inc ax</span><br><span class="line">inc ax</span><br></pre></td></tr></table></figure>
<p>初始 ax = 0 → 1 → 2 → 3</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">assume cs:codesg</span><br><span class="line">stack segment</span><br><span class="line">    dw 8 dup (0)</span><br><span class="line">stack ends</span><br><span class="line"></span><br><span class="line">codesg segment</span><br><span class="line">start:</span><br><span class="line">    mov ax,stack</span><br><span class="line">    mov ss,ax</span><br><span class="line">    mov sp,10h</span><br><span class="line">    mov word ptr ss:[0],offset s ; (ss:[0]) = 1Ah</span><br><span class="line">    mov ss:[2],cs                ; (ss:[2]) = 当前代码段 CS</span><br><span class="line">    call dword ptr ss:[0]        ; 相当于 call far ptr cs:1Ah</span><br><span class="line">                                 ; 执行前压栈：cs 和 IP=19h</span><br><span class="line">                                 ; (ss:[4]) = cs, (ss:[6]) = 19h</span><br><span class="line">    nop</span><br><span class="line">s:</span><br><span class="line">    mov ax,offset s              ; ax = 1Ah</span><br><span class="line">    sub ax,ss:[0ch]              ; ax = 1Ah - ss:[0Ch] = 1Ah - 19h = 1</span><br><span class="line">    mov bx,cs                    ; bx = cs</span><br><span class="line">    sub bx,ss:[0eh]              ; bx = cs - ss:[0eh] = cs - cs = 0</span><br><span class="line">    mov ax,4c00h</span><br><span class="line">    int 21h</span><br><span class="line">codesg ends</span><br><span class="line">end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><code>ss:[0] = 1Ah</code>，即跳转到当前段偏移地址 1Ah</li>
<li><code>ss:[2] = cs</code>，即段地址</li>
<li><code>call dword ptr ss:[0]</code> → <strong>跳转到 cs:1Ah</strong></li>
<li>call 指令将 <strong>返回地址 IP=19h</strong> 和 <strong>CS=cs</strong> 入栈：
<ul>
<li><code>ss:[4] = cs</code></li>
<li><code>ss:[6] = 0019h</code></li>
</ul>
</li>
</ul>
<p>进入 <code>s:</code> 标签后：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mov ax, offset s      ; ax = 1Ah</span><br><span class="line">sub ax, ss:[0ch]      ; ss:[0ch] = 19h → ax = 1Ah - 19h = 1</span><br><span class="line">mov bx, cs            ; bx = cs</span><br><span class="line">sub bx, ss:[0eh]      ; ss:[0eh] = cs → bx = cs - cs = 0</span><br></pre></td></tr></table></figure>
<h4 id=""></h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax = 1</span><br><span class="line">bx = 0</span><br></pre></td></tr></table></figure>
<h1>十一</h1>
<p>写出每条指令执行后，标志位的值：</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>CF</th>
<th>OF</th>
<th>SF</th>
<th>ZF</th>
<th>PF</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sub al, al</code></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><code>mov al,10H</code></td>
<td>—</td>
<td>—</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><code>add al,90H</code></td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><code>mov al,80H</code></td>
<td>—</td>
<td>—</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><code>add al,80H</code></td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><code>mov al,0FCH</code></td>
<td>—</td>
<td>—</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td><code>add al,05H</code></td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><code>mov al,7DH</code></td>
<td>—</td>
<td>—</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><code>add al,0BH</code></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
<h1>知识框架</h1>
<h2 id="简答题">简答题</h2>
<h3 id="1-对汇编语言的理解">1.对汇编语言的理解</h3>
<p><strong>概念</strong>：面向机器的低级语言，使用符号化指令（助记符）</p>
<p><strong>优点</strong>：</p>
<ul>
<li>执行效率高（直接操作寄存器/内存）</li>
<li>控制力强（可精细操控硬件）</li>
<li>有助于理解计算机体系结构</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>语法繁琐、代码量大</li>
<li>可读性差、维护难度高</li>
<li>不可移植，依赖具体 CPU 架构</li>
</ul>
<h3 id="2-寄存器体系及其使用">2.寄存器体系及其使用</h3>
<table>
<thead>
<tr>
<th>标志位</th>
<th>含义</th>
<th>触发条件示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ZF</strong></td>
<td>Zero Flag，零标志</td>
<td>运算结果为0时置位1</td>
</tr>
<tr>
<td><strong>SF</strong></td>
<td>Sign Flag，符号标志</td>
<td>运算结果最高位为1时置位1</td>
</tr>
<tr>
<td><strong>CF</strong></td>
<td>Carry Flag，进位/借位标志</td>
<td>无符号加法产生进位或减法借位时置1</td>
</tr>
<tr>
<td><strong>OF</strong></td>
<td>Overflow Flag，溢出标志</td>
<td>有符号运算超出范围时置1</td>
</tr>
<tr>
<td><strong>PF</strong></td>
<td>Parity Flag，奇偶标志（低8位偶数个1）</td>
<td>结果低8位中1的个数为偶数时置1</td>
</tr>
</tbody>
</table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sub al,al    → ZF=1, PF=1, SF=0</span><br><span class="line">mov al,10H   → ZF=0, PF=1, SF=0</span><br><span class="line">add al,90H   → SF=1, ZF=0, PF=1</span><br><span class="line">add al,80H   → OF=1, CF=1, ZF=1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-程序加载与段：偏移机制">3.程序加载与段：偏移机制</h3>
<p><strong>段地址（Segment Address）</strong>：指内存中一个<strong>64KB段的起始地址</strong>，由段寄存器（如 CS、DS、SS、ES）给出。</p>
<p><strong>偏移地址（Offset Address）</strong>：表示<strong>该段内的相对地址位置</strong>，通常由 IP、BX、SI、DI 等寄存器提供。</p>
<p><strong>物理地址计算公式</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">编辑物理地址 = 段地址 × 16 + 偏移地址</span><br><span class="line">        = 段地址 &lt;&lt; 4 + 偏移地址</span><br></pre></td></tr></table></figure>
<h3 id="4-条件与无条件跳转">4.条件与无条件跳转</h3>
<p><code>jmp</code>/ <code>je</code>/ <code>jne</code>/ <code>jg</code>… 指令格式</p>
<p>近跳转 vs 远跳转 vs 间接跳转</p>
<p>跳转目标：立即数、寄存器、内存</p>
<p><strong>jmp 指令</strong>：</p>
<p><strong>jmp 段内跳转</strong>：只修改 IP，CS 不变。<strong>jmp 段间跳转</strong>：同时修改 CS 和 IP</p>
<p><strong>call 指令：</strong></p>
<p>实现<strong>子程序调用</strong>，会将<strong>返回地址入栈</strong>，然后跳转到目标地址。</p>
<ul>
<li>近调用（段内）：只入栈 IP</li>
<li>远调用（段间）：先入栈 CS，再入栈 IP</li>
</ul>
<p>调用完成后跳转到子程序开始位置执行。</p>
<p><strong>ret / retf 指令</strong>：</p>
<p><strong>ret</strong>：弹出栈顶内容（IP）并跳回（适用于近调用）；</p>
<p><strong>retf</strong>：弹出两个字节恢复 IP，然后再弹出两个字节恢复 CS，实现段间返回。</p>
<h3 id="5-基本结构">5.基本结构</h3>
<p>汇编程序的基本结构：由代码段（存放指令）、数据段（存放数据）、栈段（管理栈空间）组成，程序入口标签（如 <code>start:</code>）指明执行起点，<code>end</code> 标记程序结束</p>
<p>段寄存器的作用及设置：CS 指向代码段，DS 指向数据段，SS 指向栈段。设置时先用 <code>mov ax, 段地址</code>，再用 <code>mov 段寄存器, ax</code> 装载段地址。</p>
<p>汇编程序的执行流程：CPU 从 CS:IP 指向位置开始执行指令，执行后 IP 自动加指令长度，跳转指令可修改 CS 和 IP 以改变执行流。</p>
<p>内存访问方式：内存地址由段寄存器和偏移地址组合计算，数据访问用 DS，代码访问用 CS，栈操作用 SS。</p>
<p>汇编指令的基本作用：<code>mov</code> 指令实现数据在寄存器和内存间传送，段寄存器初始化通过先装载到通用寄存器再转移。</p>
<h3 id="6-DOS-如何加载-EXE-可执行程序？">6.DOS 如何加载 EXE 可执行程序？</h3>
<p>DOS 从内存中找到一块空闲区域，段地址为 SA，偏移为 0000。</p>
<p>在 SA:0 开始的 256 字节内创建 PSP（程序段前缀），用于 DOS 和程序通信。</p>
<p>程序本体加载到 SA+10H:0 处，即从 256 字节后开始执行。</p>
<p>PSP 和程序在物理地址上连续，但逻辑段地址不同。</p>
<p>最后设置 DS=SA，CS:IP=SA+10H:0，准备开始执行程序。</p>
<h2 id="填空题">填空题</h2>
<h3 id="1-栈操作细节，push-pop-对-SP、SS-的影响">1.栈操作细节，<code>push</code>/ <code>pop</code> 对 SP、SS 的影响</h3>
<h3 id="2-转移指令格式，机器码长度、操作数类型">2.转移指令格式，机器码长度、操作数类型</h3>
<h3 id="3-子程序调用，call-ret-的入栈、出栈顺序">3.子程序调用，<code>call</code>/ <code>ret</code> 的入栈、出栈顺序</h3>
<h3 id="4-标志寄存器，ZF、SF、CF、OF-置位条件，哪些算术-逻辑指令影响哪些标志">4.标志寄存器，ZF、SF、CF、OF 置位条件，哪些算术/逻辑指令影响哪些标志</h3>
<h2 id="程序分析题">程序分析题</h2>
<p>1.<code>loop</code> 循环 &amp; CX 计数寄存器变化，<code>loop label</code> 的执行流程——取指、CX–1、ZF检查、跳转，执行次数与初始 CX 的关系</p>
<p>2.子程序/间接跳转跟踪，</p>
<p><code>call</code>/ <code>jmp reg</code>/ <code>ret</code> 全流程：</p>
<ol>
<li>IP 入栈</li>
<li>CS:IP 更新</li>
<li>返回地址弹栈</li>
</ol>
<p>3.复制程序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">    mov ax, 0020h</span><br><span class="line">    mov ds, ax        ; DS = 源数据段 → <span class="number">0020</span>:<span class="number">0000</span> 起</span><br><span class="line">    mov ax, 0021h</span><br><span class="line">    mov es, ax        ; ES = 目标数据段 → <span class="number">0021</span>:<span class="number">0000</span> 起</span><br><span class="line"></span><br><span class="line">    mov bx, <span class="number">0</span></span><br><span class="line">    mov cx, <span class="number">10</span>        ; 拷贝 <span class="number">10</span> 个字节（或字符）</span><br><span class="line"></span><br><span class="line">s:  mov al, [bx]      ; 从 DS:[BX] 取数据（即 <span class="number">0020</span>:BX）</span><br><span class="line">    mov es:[bx], al   ; 写入 ES:[BX]（即 <span class="number">0021</span>:BX）</span><br><span class="line">    inc bx</span><br><span class="line">    loop s            ; 循环 CX 次，CX ← CX - <span class="number">1</span>，直到 CX=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    mov ax, 4c00h</span><br><span class="line">    <span class="type">int</span> 21h</span><br><span class="line">code ends</span><br><span class="line">end</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>将 DS:0000（0020:0000）开始的 <strong>10 个字节</strong> 拷贝到 ES:0000（0021:0000）开始的地址。</p>
<p><code>mov al, [bx]</code> 表示：从 <strong>DS:BX</strong> 指向的内存地址中读取一个字节到 AL（间接寻址）</p>
<p><code>mov es:[bx], al</code> 表示：将 AL 的值存入 ES:BX 指向的内存地址</p>
<p><code>loop s</code> = <code>dec cx; if cx != 0 then jmp s</code>，循环控制语句，用于固定次数循环</p>
<p><code>mov ds, ax</code> 和 <code>mov es, ax</code> 是设置数据段和额外段，访问内存前必须设置段寄存器</p>
<h1>编程题目</h1>
<ol>
<li>
<p><strong>基于 <code>loop</code> 的计数/求和程序（第5章）</strong></p>
</li>
<li>
<p><strong>段:偏移 数据搬运 + 栈管理（第6章）</strong></p>
<p>如：从数据段读字符串，压栈→子程序处理→弹栈</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">assume cs:codesg</span><br><span class="line">codesg segment</span><br><span class="line">	dw 0123H,0456H,0789H,0ABCH,0DEFH,0FEDH,0CBAH,0987H</span><br><span class="line">start:	mov ax,<span class="number">0</span></span><br><span class="line">		mov ds,ax              ; DS → <span class="number">0</span>，即访问 <span class="number">0</span>:<span class="number">0</span>~<span class="number">0</span>:F</span><br><span class="line">		mov bx,<span class="number">0</span></span><br><span class="line">		mov cx,<span class="number">8</span></span><br><span class="line">s:		mov ax,[bx]            ; 从内存 <span class="number">0000</span>:BX 处读两个字节到 AX</span><br><span class="line">		mov cs:[bx],ax         ; 把 AX 写入代码段 CS:BX 位置的数据</span><br><span class="line">		add bx,<span class="number">2</span></span><br><span class="line">		loop s</span><br><span class="line">		mov ax,4C00H</span><br><span class="line">		<span class="type">int</span> 21H</span><br><span class="line">codesg ends</span><br><span class="line">end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>数据从<strong>0:0 ~ 0:F</strong>（16 字节，8 个字）依次读取，<strong>覆盖 CS 段中的初始数据区</strong></p>
<p>原始数据如 <code>0123H,0456H...</code> 将被替换为内存中读取的新数据</p>
<p>效果：<strong>程序数据区被外部数据动态更新</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">assume cs:codesg</span><br><span class="line">codesg segment</span><br><span class="line">	dw 0123H,0456H,0789H,0ABCH,0DEFH,0FEDH,0CBAH,0987H</span><br><span class="line">	dw <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>   ; 共<span class="number">16</span>字节空间，用作栈区</span><br><span class="line">start:	mov ax,cs             ; 设定 SS = CS，栈在代码段中</span><br><span class="line">		mov ss,ax</span><br><span class="line">		mov sp,<span class="number">36</span>             ; SP = <span class="number">36</span> → 栈顶指向代码段偏移 24h</span><br><span class="line">		mov ax,<span class="number">0</span></span><br><span class="line">		mov ds,ax</span><br><span class="line">		mov bx,<span class="number">0</span></span><br><span class="line">		mov cx,<span class="number">8</span></span><br><span class="line">s:		push [bx]            ; 从 DS:BX（即 <span class="number">0</span>:<span class="number">0</span> 开始）压栈</span><br><span class="line">		pop cs:[bx]          ; 从栈中弹出数据写入 CS:BX（覆盖初始数据）</span><br><span class="line">		add bx,<span class="number">2</span></span><br><span class="line">		loop s</span><br><span class="line">		mov ax,4C00H</span><br><span class="line">		<span class="type">int</span> 21H</span><br><span class="line">codesg ends</span><br><span class="line">end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>使用 <code>stack</code> 完成数据搬运，相当于：<br>
<code>ax ← ds:[bx] → push → 栈 → pop → cs:[bx]</code></p>
<p>使用 <code>push/pop</code> 方式达到 <strong>数据传送效果</strong></p>
<p>栈顶设为 24h（即 36 十进制）→ 从 <code>cs:0024h</code> 处开始使用栈</p>
<p>栈段的起始位置由 <code>ss = cs</code> 指定，即栈放在当前代码段末尾的空区域</p>
<ol>
<li>
<p><strong>大小写转换（第7章）</strong></p>
<ul>
<li>利用 <code>AL</code>/<code>AH</code> 与 ASCII 区别</li>
<li>不同寻址方式：立即、直接、寄存器间接</li>
</ul>
</li>
</ol>
<p><strong>将 <code>datasg</code> 段中每个字符串的前 4 个字母转换为大写字母</strong>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">assume cs:codesg, ds:datasg, ss:stacksg</span><br><span class="line"></span><br><span class="line">stacksg segment</span><br><span class="line">    dw <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">stacksg ends</span><br><span class="line"></span><br><span class="line">datasg segment</span><br><span class="line">    db <span class="string">&#x27;1. display&#x27;</span></span><br><span class="line">    db <span class="string">&#x27;2. brows&#x27;</span></span><br><span class="line">    db <span class="string">&#x27;3. replace&#x27;</span></span><br><span class="line">    db <span class="string">&#x27;4. modify&#x27;</span></span><br><span class="line">datasg ends</span><br><span class="line"></span><br><span class="line">codesg segment</span><br><span class="line">start:</span><br><span class="line">    mov ax, datasg</span><br><span class="line">    mov ds, ax</span><br><span class="line"></span><br><span class="line">    mov bx, <span class="number">3</span>      ; 第<span class="number">1</span>行，跳过 <span class="string">&#x27;1. &#x27;</span></span><br><span class="line">    call upper4</span><br><span class="line">    mov bx, <span class="number">13</span>     ; 第<span class="number">2</span>行，跳过 <span class="string">&#x27;2. &#x27;</span></span><br><span class="line">    call upper4</span><br><span class="line">    mov bx, <span class="number">21</span>     ; 第<span class="number">3</span>行，跳过 <span class="string">&#x27;3. &#x27;</span></span><br><span class="line">    call upper4</span><br><span class="line">    mov bx, <span class="number">31</span>     ; 第<span class="number">4</span>行，跳过 <span class="string">&#x27;4. &#x27;</span></span><br><span class="line">    call upper4</span><br><span class="line"></span><br><span class="line">    mov ax, 4C00h</span><br><span class="line">    <span class="type">int</span> 21h</span><br><span class="line"></span><br><span class="line">; 子程序：将 [bx] 开始的<span class="number">4</span>个字母改为大写</span><br><span class="line">upper4:</span><br><span class="line">    mov cx, <span class="number">4</span></span><br><span class="line">next:</span><br><span class="line">    mov al, [bx]</span><br><span class="line">    cmp al, <span class="string">&#x27;a&#x27;</span></span><br><span class="line">    jb skip</span><br><span class="line">    cmp al, <span class="string">&#x27;z&#x27;</span></span><br><span class="line">    ja skip</span><br><span class="line">    sub al, 20h</span><br><span class="line">    mov [bx], al</span><br><span class="line">skip:</span><br><span class="line">    inc bx</span><br><span class="line">    loop next</span><br><span class="line">    ret</span><br><span class="line"></span><br><span class="line">codesg ends</span><br><span class="line">end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>每条字符串偏移</strong>分别是：3、13、21、31（跳过编号和点空格）。</p>
<p><strong>upper4 子程序</strong>：处理从 <code>[bx]</code> 开始的 4 个字符。</p>
<p>利用了 <code>cmp</code> 和 <code>sub</code> 判断是否是小写字母。</p>
<ol>
<li>
<p><strong>字符串操作指令综合（第8章）</strong></p>
<ul>
<li><code>MOVS</code>/<code>LODS</code>/<code>STOS</code>/<code>CMPS</code>/<code>SCAS</code> 实现功能</li>
</ul>
</li>
</ol>
<p>编写程序，将 <code>data</code> 段中：</p>
<ul>
<li>21个年份（每个4字节字符串）</li>
<li>21个年收入（每个4字节 dword）</li>
<li>21个雇员数（每个2字节 word）</li>
</ul>
<p>分别搬运进 <code>table</code> 段中（每行16字节），<strong>并计算人均收入（dword / word → word，单位：千美元）</strong>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">assume cs:codesg, ds:dataseg, es:tablesg</span><br><span class="line"></span><br><span class="line">dataseg segment</span><br><span class="line">years db <span class="string">&#x27;1975&#x27;</span>,<span class="string">&#x27;1976&#x27;</span>,<span class="string">&#x27;1977&#x27;</span>,<span class="string">&#x27;1978&#x27;</span>,<span class="string">&#x27;1979&#x27;</span>,<span class="string">&#x27;1980&#x27;</span>,<span class="string">&#x27;1981&#x27;</span>,<span class="string">&#x27;1982&#x27;</span>,<span class="string">&#x27;1983&#x27;</span></span><br><span class="line">      db <span class="string">&#x27;1984&#x27;</span>,<span class="string">&#x27;1985&#x27;</span>,<span class="string">&#x27;1986&#x27;</span>,<span class="string">&#x27;1987&#x27;</span>,<span class="string">&#x27;1988&#x27;</span>,<span class="string">&#x27;1989&#x27;</span>,<span class="string">&#x27;1990&#x27;</span>,<span class="string">&#x27;1991&#x27;</span>,<span class="string">&#x27;1992&#x27;</span></span><br><span class="line">      db <span class="string">&#x27;1993&#x27;</span>,<span class="string">&#x27;1994&#x27;</span>,<span class="string">&#x27;1995&#x27;</span></span><br><span class="line">sums  dd <span class="number">16</span>,<span class="number">22</span>,<span class="number">382</span>,<span class="number">1356</span>,<span class="number">2390</span>,<span class="number">8000</span>,<span class="number">16000</span>,<span class="number">24486</span>,<span class="number">50065</span>,<span class="number">97479</span></span><br><span class="line">      dd <span class="number">140417</span>,<span class="number">197514</span>,<span class="number">345980</span>,<span class="number">590827</span>,<span class="number">803530</span>,<span class="number">1183000</span>,<span class="number">1843000</span></span><br><span class="line">      dd <span class="number">2759000</span>,<span class="number">3753000</span>,<span class="number">4649000</span>,<span class="number">5937000</span></span><br><span class="line">nums  dw <span class="number">3</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">13</span>,<span class="number">28</span>,<span class="number">38</span>,<span class="number">130</span>,<span class="number">220</span>,<span class="number">476</span>,<span class="number">778</span></span><br><span class="line">      dw <span class="number">1001</span>,<span class="number">1442</span>,<span class="number">2258</span>,<span class="number">2793</span>,<span class="number">4037</span>,<span class="number">5635</span>,<span class="number">8226</span>,<span class="number">11542</span>,<span class="number">14430</span>,<span class="number">15257</span>,<span class="number">17800</span></span><br><span class="line">dataseg ends</span><br><span class="line"></span><br><span class="line">tablesg segment</span><br><span class="line">table db <span class="number">21</span> dup (<span class="number">16</span> dup (<span class="number">0</span>))  ; <span class="number">21</span>个结构，每个<span class="number">16</span>字节清零初始化</span><br><span class="line">tablesg ends</span><br><span class="line"></span><br><span class="line">codesg segment</span><br><span class="line">start:</span><br><span class="line">    mov ax, dataseg</span><br><span class="line">    mov ds, ax         ; 数据段 → DS</span><br><span class="line"></span><br><span class="line">    mov ax, tablesg</span><br><span class="line">    mov es, ax         ; 表格段 → ES</span><br><span class="line"></span><br><span class="line">    xor si, si         ; si 用于索引年份</span><br><span class="line">    xor di, di         ; di = 结构偏移 = ES:table[i * <span class="number">16</span>]</span><br><span class="line">    xor bx, bx         ; bx 用于访问 sums 和 nums</span><br><span class="line">    mov cx, <span class="number">21</span>         ; 共 <span class="number">21</span> 年数据</span><br><span class="line"></span><br><span class="line">write_loop:</span><br><span class="line">    ; 拷贝年份 (<span class="number">4</span> 字节)</span><br><span class="line">    mov al, [years + si]</span><br><span class="line">    mov es:[di], al</span><br><span class="line">    mov al, [years + si + <span class="number">1</span>]</span><br><span class="line">    mov es:[di + <span class="number">1</span>], al</span><br><span class="line">    mov al, [years + si + <span class="number">2</span>]</span><br><span class="line">    mov es:[di + <span class="number">2</span>], al</span><br><span class="line">    mov al, [years + si + <span class="number">3</span>]</span><br><span class="line">    mov es:[di + <span class="number">3</span>], al</span><br><span class="line"></span><br><span class="line">    ; 拷贝收入 (dword, <span class="number">4</span> 字节)</span><br><span class="line">    mov ax, word ptr [sums + bx]</span><br><span class="line">    mov es:[di + <span class="number">4</span>], ax</span><br><span class="line">    mov ax, word ptr [sums + bx + <span class="number">2</span>]</span><br><span class="line">    mov es:[di + <span class="number">6</span>], ax</span><br><span class="line"></span><br><span class="line">    ; 拷贝雇员数 (word, <span class="number">2</span> 字节)</span><br><span class="line">    mov ax, word ptr [nums + bx]</span><br><span class="line">    mov es:[di + <span class="number">8</span>], ax</span><br><span class="line"></span><br><span class="line">    ; 计算人均收入 = dword / word</span><br><span class="line">    ; dx:ax = 总收入</span><br><span class="line">    ; cx = 雇员数</span><br><span class="line">    mov ax, word ptr [sums + bx]</span><br><span class="line">    mov dx, word ptr [sums + bx + <span class="number">2</span>]  ; dx:ax = dword</span><br><span class="line">    mov cx, word ptr [nums + bx]</span><br><span class="line">    cmp cx, <span class="number">0</span></span><br><span class="line">    je skip_div                       ; 避免除 <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    div cx                            ; AX = 商（人均收入），DX = 余数</span><br><span class="line"></span><br><span class="line">    mov es:[di + <span class="number">10</span>], ax             ; 写入人均收入（word）</span><br><span class="line"></span><br><span class="line">skip_div:</span><br><span class="line">    add si, <span class="number">4</span>       ; 下一年年份字符串偏移</span><br><span class="line">    add di, <span class="number">16</span>      ; 下一结构偏移</span><br><span class="line">    add bx, <span class="number">4</span>       ; sums + nums 的索引前进</span><br><span class="line">    loop write_loop</span><br><span class="line"></span><br><span class="line">    ; 退出程序</span><br><span class="line">    mov ax, 4C00h</span><br><span class="line">    <span class="type">int</span> 21h</span><br><span class="line">codesg ends</span><br><span class="line"></span><br><span class="line">end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202407230955363.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202407230955363.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">mengnankkzhou</div><div class="post-copyright__author_desc">不要走捏</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://blog.tokenlen.top/2025/06/21/lastteam/huibian/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://blog.tokenlen.top/2025/06/21/lastteam/huibian/')">汇编语言期末复习</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://blog.tokenlen.top/2025/06/21/lastteam/huibian/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=汇编语言期末复习&amp;url=https://blog.tokenlen.top/2025/06/21/lastteam/huibian/&amp;pic=https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202408081510095.jpg?_r_=544b11b3-7795-ab22-4ab3-7e74ca4c9c88" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.tokenlen.top" target="_blank">mengnankkのblog</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__category-list"><a class="post-meta__box__categoryes" href="/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"><span class="categoryes-punctuation"> <i class="anzhiyufont anzhiyu-icon-inbox"></i></span>期末考试<span class="categoryesPageCount">1</span></a></div><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>汇编语言<span class="tagsPageCount">1</span></a></div></div><div class="post_share"><div class="social-share" data-image="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202407221838345.jpg?_r_=35278eb0-68fd-cfed-ae69-79cdef91ec53" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/06/18/lastteam/jisuanfangfa/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202410051722381.jpg?_r_=a6a0b78f-d1fe-abaa-b582-f5869eec08e2" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">计算方法期末复习</div></div></a></div><div class="next-post pull-right"><a href="/2025/06/21/javase/javaweb1/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202408081510550.jpg?_r_=e0f5e99b-3354-77b7-66dd-2ddd470c9415" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">javase面试题目hot2web开发</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div><div class="comment-switch"><span class="first-comment">Twikoo</span><span id="switch-btn"></span><span class="second-comment">Valine</span></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div class="vcomment" id="vcomment"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202407230955363.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description">清风拂柳影，碧水映花香。</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">mengnankkzhou</h1><div class="author-info__desc">不要走捏</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/mengnankkkk" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/440831872" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来看我的博客鸭~</div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202410021212939.jpg) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">题目解答</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.1.</span> <span class="toc-text">一 基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">1.2.</span> <span class="toc-text">二 寄存器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D-%E8%B7%B3%E8%B7%83"><span class="toc-number">1.3.</span> <span class="toc-text">九 跳跃</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89"><span class="toc-number">1.4.</span> <span class="toc-text">三</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81"><span class="toc-number">1.5.</span> <span class="toc-text">十</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-number">1.5.0.1.</span> <span class="toc-text"></span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">十一</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">知识框架</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E7%AD%94%E9%A2%98"><span class="toc-number">3.1.</span> <span class="toc-text">简答题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AF%B9%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">3.1.1.</span> <span class="toc-text">1.对汇编语言的理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AF%84%E5%AD%98%E5%99%A8%E4%BD%93%E7%B3%BB%E5%8F%8A%E5%85%B6%E4%BD%BF%E7%94%A8"><span class="toc-number">3.1.2.</span> <span class="toc-text">2.寄存器体系及其使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%A8%8B%E5%BA%8F%E5%8A%A0%E8%BD%BD%E4%B8%8E%E6%AE%B5%EF%BC%9A%E5%81%8F%E7%A7%BB%E6%9C%BA%E5%88%B6"><span class="toc-number">3.1.3.</span> <span class="toc-text">3.程序加载与段：偏移机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9D%A1%E4%BB%B6%E4%B8%8E%E6%97%A0%E6%9D%A1%E4%BB%B6%E8%B7%B3%E8%BD%AC"><span class="toc-number">3.1.4.</span> <span class="toc-text">4.条件与无条件跳转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">3.1.5.</span> <span class="toc-text">5.基本结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-DOS-%E5%A6%82%E4%BD%95%E5%8A%A0%E8%BD%BD-EXE-%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%A8%8B%E5%BA%8F%EF%BC%9F"><span class="toc-number">3.1.6.</span> <span class="toc-text">6.DOS 如何加载 EXE 可执行程序？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A1%AB%E7%A9%BA%E9%A2%98"><span class="toc-number">3.2.</span> <span class="toc-text">填空题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A0%88%E6%93%8D%E4%BD%9C%E7%BB%86%E8%8A%82%EF%BC%8Cpush-pop-%E5%AF%B9-SP%E3%80%81SS-%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">3.2.1.</span> <span class="toc-text">1.栈操作细节，push&#x2F; pop 对 SP、SS 的影响</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%BD%AC%E7%A7%BB%E6%8C%87%E4%BB%A4%E6%A0%BC%E5%BC%8F%EF%BC%8C%E6%9C%BA%E5%99%A8%E7%A0%81%E9%95%BF%E5%BA%A6%E3%80%81%E6%93%8D%E4%BD%9C%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.2.</span> <span class="toc-text">2.转移指令格式，机器码长度、操作数类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AD%90%E7%A8%8B%E5%BA%8F%E8%B0%83%E7%94%A8%EF%BC%8Ccall-ret-%E7%9A%84%E5%85%A5%E6%A0%88%E3%80%81%E5%87%BA%E6%A0%88%E9%A1%BA%E5%BA%8F"><span class="toc-number">3.2.3.</span> <span class="toc-text">3.子程序调用，call&#x2F; ret 的入栈、出栈顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%A0%87%E5%BF%97%E5%AF%84%E5%AD%98%E5%99%A8%EF%BC%8CZF%E3%80%81SF%E3%80%81CF%E3%80%81OF-%E7%BD%AE%E4%BD%8D%E6%9D%A1%E4%BB%B6%EF%BC%8C%E5%93%AA%E4%BA%9B%E7%AE%97%E6%9C%AF-%E9%80%BB%E8%BE%91%E6%8C%87%E4%BB%A4%E5%BD%B1%E5%93%8D%E5%93%AA%E4%BA%9B%E6%A0%87%E5%BF%97"><span class="toc-number">3.2.4.</span> <span class="toc-text">4.标志寄存器，ZF、SF、CF、OF 置位条件，哪些算术&#x2F;逻辑指令影响哪些标志</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E9%A2%98"><span class="toc-number">3.3.</span> <span class="toc-text">程序分析题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">编程题目</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/07/01/workmenu/dianping/" title="黑马点评项目分析"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202407221838345.jpg?_r_=35278eb0-68fd-cfed-ae69-79cdef91ec53" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="黑马点评项目分析"/></a><div class="content"><a class="title" href="/2025/07/01/workmenu/dianping/" title="黑马点评项目分析">黑马点评项目分析</a><time datetime="2025-06-30T16:00:00.000Z" title="发表于 2025-07-01 00:00:00">2025-07-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/30/towork/wokiing2/" title="面试面经"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202407221811725.jpeg?_r_=a066c23b-98cc-7c79-469e-0c142be6e21e" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="面试面经"/></a><div class="content"><a class="title" href="/2025/06/30/towork/wokiing2/" title="面试面经">面试面经</a><time datetime="2025-06-29T16:00:00.000Z" title="发表于 2025-06-30 00:00:00">2025-06-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/27/workmenu/damai1/" title="大麦网业务分析-1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202408081510095.jpg?_r_=eb21f36c-8326-4da3-fab6-804a341f1843" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="大麦网业务分析-1"/></a><div class="content"><a class="title" href="/2025/06/27/workmenu/damai1/" title="大麦网业务分析-1">大麦网业务分析-1</a><time datetime="2025-06-26T16:00:00.000Z" title="发表于 2025-06-27 00:00:00">2025-06-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/26/new-stack/rocketMQ1/" title="RocketMQ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/202410051722379.jpg?_r_=856186f3-44b4-8660-69ba-0eaeae50bd39" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RocketMQ"/></a><div class="content"><a class="title" href="/2025/06/26/new-stack/rocketMQ1/" title="RocketMQ">RocketMQ</a><time datetime="2025-06-25T16:00:00.000Z" title="发表于 2025-06-26 00:00:00">2025-06-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/24/new-stack/nginx/" title="Nginx"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://skymirror-1322372781.cos.ap-beijing.myqcloud.com/20250126175712177.jpg?_r_=2eb919bc-9bac-ea8e-d384-1df31d15ecf3" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx"/></a><div class="content"><a class="title" href="/2025/06/24/new-stack/nginx/" title="Nginx">Nginx</a><time datetime="2025-06-23T16:00:00.000Z" title="发表于 2025-06-24 00:00:00">2025-06-24</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="footer_custom_text"><p><a style="margin-inline:5px" target="_blank" href="https://hexo.io/">
  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.shields.io/badge/Framework-Hexo-4e88f8?style=flat&logo=hexo" 
       title="博客框架为 Hexo" alt="Hexo">
</a>
<a style="margin-inline:5px" target="_blank" href="https://github.com/">
  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.shields.io/badge/Source-Github-24292f?style=flat&logo=github" 
       title="本站项目由 GitHub 托管" alt="GitHub">
</a>
<a style="margin-inline:5px" target="_blank" href="https://vercel.com/">
  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.shields.io/badge/Cloud-Vercel-000000?style=flat&logo=vercel" 
       title="使用 Vercel 部署" alt="Vercel">
</a>
<a style="margin-inline:5px" target="_blank" href="https://www.qlu.edu.cn/">
  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.shields.io/badge/University-齐鲁工业大学-0056a2?style=flat&logo=university" 
       title="齐鲁工业大学" alt="齐鲁工业大学">
</a>
<a style="margin-inline:5px" target="_blank" href="https://www.aliyun.com/">
  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.shields.io/badge/Cloud-阿里云-ff6a00?style=flat&logo=aliyun" 
       title="使用阿里云服务" alt="阿里云">
</a>
<a style="margin-inline:5px" target="_blank" href="https://cloud.tencent.com/">
  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.shields.io/badge/Cloud-腾讯云-0a73b8?style=flat&logo=tencent-cloud" 
       title="使用腾讯云服务" alt="腾讯云">
</a></p>
</div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2023 - 2025 By <a class="footer-bar-link" href="/" title="mengnankkzhou" target="_blank">mengnankkzhou</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://beian.miit.gov.cn/" title="鲁ICP备2024110758号">鲁ICP备2024110758号</a><a class="footer-bar-link" href="https://blog.tokenlen.top/rss2.xml" title="Rss">Rss</a><a class="footer-bar-link cc" href="/pravite" title="cc协议"><i class="anzhiyufont anzhiyu-icon-copyright-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-by-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nc-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nd-line"></i></a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">144</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">43</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">25</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://blog.tokenlen.top/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://img.mengnankk.top:9001/" title="图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="图床"/><span class="back-menu-item-text">图床</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="http://img.mengnankk.top:9001/" title="mengnankk图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/13/64d8c2653332e.ico" alt="mengnankk图床"/><span class="back-menu-item-text">mengnankk图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 生活</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Message/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 其他</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://home.tokenlen.top/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> home</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://status.mengnankk.asia/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 站点检测</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://home.tokenlen.top/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 心里话</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/BF/" style="font-size: 0.88rem;">BF<sup>1</sup></a><a href="/tags/BigData/" style="font-size: 0.88rem;">BigData<sup>1</sup></a><a href="/tags/C/" style="font-size: 0.88rem;">C<sup>4</sup></a><a href="/tags/CE/" style="font-size: 0.88rem;">CE<sup>1</sup></a><a href="/tags/CSRF/" style="font-size: 0.88rem;">CSRF<sup>1</sup></a><a href="/tags/English/" style="font-size: 0.88rem;">English<sup>9</sup></a><a href="/tags/FI/" style="font-size: 0.88rem;">FI<sup>1</sup></a><a href="/tags/Hadoop/" style="font-size: 0.88rem;">Hadoop<sup>1</sup></a><a href="/tags/Linux/" style="font-size: 0.88rem;">Linux<sup>12</sup></a><a href="/tags/Nginx/" style="font-size: 0.88rem;">Nginx<sup>1</sup></a><a href="/tags/XSS/" style="font-size: 0.88rem;">XSS<sup>1</sup></a><a href="/tags/css/" style="font-size: 0.88rem;">css<sup>2</sup></a><a href="/tags/docker/" style="font-size: 0.88rem;">docker<sup>1</sup></a><a href="/tags/football/" style="font-size: 0.88rem;">football<sup>1</sup></a><a href="/tags/git/" style="font-size: 0.88rem;">git<sup>1</sup></a><a href="/tags/html/" style="font-size: 0.88rem;">html<sup>1</sup></a><a href="/tags/java/" style="font-size: 0.88rem;">java<sup>50</sup></a><a href="/tags/juc/" style="font-size: 0.88rem;">juc<sup>2</sup></a><a href="/tags/jvm/" style="font-size: 0.88rem;">jvm<sup>2</sup></a><a href="/tags/leetcode/" style="font-size: 0.88rem;">leetcode<sup>8</sup></a><a href="/tags/markdown/" style="font-size: 0.88rem;">markdown<sup>1</sup></a><a href="/tags/mysql/" style="font-size: 0.88rem;">mysql<sup>16</sup></a><a href="/tags/net/" style="font-size: 0.88rem;">net<sup>6</sup></a><a href="/tags/php/" style="font-size: 0.88rem;">php<sup>5</sup></a><a href="/tags/pip/" style="font-size: 0.88rem;">pip<sup>1</sup></a><a href="/tags/python/" style="font-size: 0.88rem;">python<sup>3</sup></a><a href="/tags/redis/" style="font-size: 0.88rem;">redis<sup>3</sup></a><a href="/tags/rocketmq/" style="font-size: 0.88rem;">rocketmq<sup>2</sup></a><a href="/tags/shell/" style="font-size: 0.88rem;">shell<sup>4</sup></a><a href="/tags/spring/" style="font-size: 0.88rem;">spring<sup>2</sup></a><a href="/tags/spring-boot/" style="font-size: 0.88rem;">spring boot<sup>12</sup></a><a href="/tags/sql/" style="font-size: 0.88rem;">sql<sup>5</sup></a><a href="/tags/web/" style="font-size: 0.88rem;">web<sup>3</sup></a><a href="/tags/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/" style="font-size: 0.88rem;">数字逻辑<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86/" style="font-size: 0.88rem;">数据库原理<sup>3</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 0.88rem;">数据结构<sup>18</sup></a><a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 0.88rem;">正则表达式<sup>2</sup></a><a href="/tags/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/" style="font-size: 0.88rem;">汇编语言<sup>1</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 0.88rem;">算法<sup>9</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 0.88rem;">面试<sup>15</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch-commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="开关弹幕"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2023 By 安知鱼 V1.6.12",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 mengnankkzhou 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.cbd.int/mathjax@3.2.2/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://comment.tokenlen.top/',
      region: '',
      onCommentLoaded: () => {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, "siu~~~~~"))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(runFn,0)
    else getScript('https://cdn.cbd.int/twikoo@1.6.25/dist/twikoo.all.min.js').then(runFn)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://comment.tokenlen.top/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const runFn = () => {
    init();
    
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '3ZpuzQHHKWfFH59QFYmcuCvr-gzGzoHsz',
      appKey: '8DIvljObQp853ueQMZzpb9Gx',
      avatar: 'mp',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.cbd.int/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Twikoo' === 'Valine' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://comment.tokenlen.top/',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.cbd.int/twikoo@1.6.25/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick} </span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-show-text" src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="I,LOVE,YOU" data-fontsize="15px" data-random="false" async="async"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>